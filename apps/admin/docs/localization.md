# Документация: Локализация UI компонентов дашборда

**Цель:** Обеспечить отображение текстовых элементов интерфейса пользователя (заголовки, кнопки, статусы, заголовки таблиц и т.д.) на выбранном языке (английском или русском) с использованием централизованной системы локализации.

**Компоненты:** Процесс применялся к различным компонентам, включая `DemographicCard`, `RecentOrders` и другие, использующие текстовые метки.

**Механизм:**

1.  **Контекст Языка (`LanguageContext`):**
    *   В основе лежит `LanguageContext` (`apps/admin/src/context/LanguageContext.tsx`), который предоставляет текущий выбранный язык (`language`) и функцию для получения переводов (`t`).
    *   Контекст загружает нужные файлы переводов (`en.json`, `ru.json`) и управляет состоянием языка, сохраняя его в `localStorage`.

2.  **Файлы Локализации:**
    *   Текстовые строки для каждого языка хранятся в JSON-файлах:
        *   `apps/admin/src/locales/en.json` (Английский)
        *   `apps/admin/src/locales/ru.json` (Русский)
    *   Переводы организованы по ключам, часто вложенным по структуре компонента или раздела (например, `Dashboard.orders.recent.title`, `Common.buttons.save`).

3.  **Использование в Компонентах:**
    *   **Импорт Хука:** Компоненты, которым нужен перевод, импортируют хук `useLanguage`:
        ```typescript
        import { useLanguage } from "@/context/LanguageContext";
        ```
    *   **Получение Функции `t`:** Внутри компонента вызывается хук для получения функции `t`:
        ```typescript
        const { t } = useLanguage();
        ```
    *   **Замена Текста:** Статические текстовые строки в JSX заменяются вызовом функции `t` с соответствующим ключом из JSON-файлов:
        ```jsx
        // Было:
        // <h3>Recent Orders</h3>
        // Стало:
        <h3>{t('Dashboard.orders.recent.title')}</h3>

        // Было:
        // <button>Filter</button>
        // Стало:
        <button>{t('Dashboard.orders.recent.filter')}</button>

        // Для динамических статусов (пример из RecentOrders):
        <Badge /* ...props... */>
          {product.status === "Delivered"
            ? t('Dashboard.orders.status.completed')
            : product.status === "Pending"
            ? t('Dashboard.orders.status.pending')
            : t('Dashboard.orders.status.cancelled')}
        </Badge>
        ```

4.  **Клиентские Компоненты (`"use client";`)**
    *   Поскольку хук `useLanguage` использует `useContext` (клиентский хук), любой компонент, который его вызывает, **должен быть помечен как Клиентский Компонент**.
    *   Это делается добавлением директивы `"use client";` в **самое начало** файла компонента (например, в `RecentOrders.tsx`). Это указывает Next.js, что компонент должен рендериться в браузере, а не на сервере.

**Процесс добавления новых переводов:**

1.  Определить необходимый текст и придумать для него логичный ключ (например, `MyComponent.section.label`).
2.  Добавить этот ключ и его английский перевод в `en.json`.
3.  Добавить этот же ключ и его русский перевод в `ru.json`.
4.  В коде компонента импортировать `useLanguage`, получить `t` и заменить текст на `{t('MyComponent.section.label')}`.
5.  Убедиться, что директива `"use client";` присутствует в файле компонента.

Эта система позволяет легко добавлять новые языки в будущем (просто создав новый файл `xx.json`) и централизованно управлять всеми текстами интерфейса. 